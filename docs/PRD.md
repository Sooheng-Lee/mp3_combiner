# MP3 Combiner - Product Requirements Document (PRD)

## 1. 개요 (Overview)

### 1.1 제품명
**MP3 Combiner** - 다중 음성 파일 병합 웹 애플리케이션

### 1.2 제품 설명
사용자가 여러 개의 음성 파일(MP3, WAV 등)을 업로드하여 하나의 파일로 병합하고, 결과물을 미리 듣거나 다운로드할 수 있는 웹 기반 애플리케이션입니다.

### 1.3 목표
- 사용자 친화적인 UI를 통해 쉽게 음성 파일을 업로드하고 병합할 수 있는 환경 제공
- 별도의 소프트웨어 설치 없이 웹 브라우저에서 바로 사용 가능
- 병합된 결과물을 즉시 재생하고 다운로드할 수 있는 기능 제공

---

## 2. 기능 요구사항 (Functional Requirements)

### 2.1 음성 파일 업로드 기능

#### FR-001: 다중 파일 업로드
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 사용자가 여러 개의 음성 파일을 동시에 선택하여 업로드할 수 있어야 함 |
| **지원 형식** | MP3, WAV, OGG, M4A, FLAC |
| **최대 파일 수** | 최대 20개 파일 동시 업로드 |
| **최대 파일 크기** | 개별 파일 최대 50MB, 총합 최대 200MB |

#### FR-002: 드래그 앤 드롭 업로드
| 항목 | 설명 |
|------|------|
| **우선순위** | P1 (권장) |
| **설명** | 파일을 드래그하여 업로드 영역에 드롭하면 자동으로 업로드 |
| **시각적 피드백** | 드래그 중 업로드 영역 하이라이트 표시 |

#### FR-003: 업로드된 파일 목록 관리
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 업로드된 파일 목록을 시각적으로 표시 |
| **기능** | - 파일명, 파일 크기, 재생 시간 표시 |
|        | - 개별 파일 삭제 기능 |
|        | - 드래그로 순서 변경 기능 |
|        | - 전체 삭제 기능 |

#### FR-004: 개별 파일 미리듣기
| 항목 | 설명 |
|------|------|
| **우선순위** | P2 (선택) |
| **설명** | 업로드된 개별 파일을 미리 들을 수 있는 기능 |

---

### 2.2 파일 병합 기능

#### FR-005: 음성 파일 병합
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 업로드된 모든 음성 파일을 사용자가 정한 순서대로 하나의 파일로 병합 |
| **출력 형식** | MP3 (기본), WAV (선택 가능) |
| **품질 설정** | 128kbps, 192kbps, 320kbps 선택 가능 |

#### FR-006: 병합 진행 상태 표시
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 병합 작업 진행률을 프로그레스 바로 표시 |
| **상태 표시** | 진행률(%), 예상 남은 시간 |

#### FR-007: 파일 간 간격(무음) 설정
| 항목 | 설명 |
|------|------|
| **우선순위** | P2 (선택) |
| **설명** | 파일 사이에 무음 구간을 추가할 수 있는 옵션 |
| **설정 범위** | 0초 ~ 5초 (0.5초 단위) |

---

### 2.3 결과물 재생 및 다운로드 기능

#### FR-008: 병합 결과 재생
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 병합된 음성 파일을 웹 브라우저에서 바로 재생 |
| **플레이어 기능** | - 재생/일시정지 버튼 |
|                  | - 진행 바 (시크 가능) |
|                  | - 볼륨 조절 |
|                  | - 현재 재생 시간 / 전체 시간 표시 |

#### FR-009: 결과물 다운로드
| 항목 | 설명 |
|------|------|
| **우선순위** | P0 (필수) |
| **설명** | 병합된 음성 파일을 사용자 로컬에 다운로드 |
| **파일명** | `combined_YYYYMMDD_HHMMSS.mp3` 형식 (커스텀 가능) |

#### FR-010: 새로운 병합 시작
| 항목 | 설명 |
|------|------|
| **우선순위** | P1 (권장) |
| **설명** | 결과 화면에서 "새로 시작" 버튼으로 초기 화면으로 돌아가기 |

---

## 3. 비기능 요구사항 (Non-Functional Requirements)

### 3.1 성능 요구사항
| 항목 | 요구사항 |
|------|----------|
| **업로드 속도** | 파일 업로드 시 진행 상태 표시, 병렬 업로드 지원 |
| **병합 처리 시간** | 총 10분 분량 기준 30초 이내 처리 |
| **응답 시간** | UI 상호작용 200ms 이내 반응 |

### 3.2 호환성 요구사항
| 항목 | 요구사항 |
|------|----------|
| **브라우저** | Chrome (최신), Firefox (최신), Safari (최신), Edge (최신) |
| **반응형** | 데스크톱, 태블릿, 모바일 지원 |
| **최소 해상도** | 320px 이상 |

### 3.3 보안 요구사항
| 항목 | 요구사항 |
|------|----------|
| **파일 처리** | 클라이언트 사이드 처리 우선 (개인정보 보호) |
| **서버 처리 시** | 업로드된 파일은 처리 후 즉시 삭제 |
| **파일 검증** | 업로드 시 파일 형식 및 크기 검증 |

---

## 4. UI/UX 설계 (User Interface Design)

### 4.1 메인 화면 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│                    🎵 MP3 Combiner                      │
│              여러 음성 파일을 하나로 합치기               │
├─────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                  │   │
│  │     📁 파일을 드래그하거나 클릭하여 업로드       │   │
│  │                                                  │   │
│  │     지원 형식: MP3, WAV, OGG, M4A, FLAC         │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 📋 업로드된 파일 목록                            │   │
│  ├─────────────────────────────────────────────────┤   │
│  │ ≡ 1. song1.mp3          3:45    🔊  🗑️         │   │
│  │ ≡ 2. song2.mp3          4:20    🔊  🗑️         │   │
│  │ ≡ 3. song3.mp3          2:55    🔊  🗑️         │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ⚙️ 옵션                                               │
│  ├─ 출력 형식: [MP3 ▼]                                 │
│  ├─ 품질: [192kbps ▼]                                  │
│  └─ 파일 간 간격: [0초 ▼]                              │
│                                                         │
│            [ 🔗 파일 합치기 ]                          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 4.2 결과 화면 레이아웃

```
┌─────────────────────────────────────────────────────────┐
│                    🎵 MP3 Combiner                      │
│                   ✅ 병합 완료!                         │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │         🎵 combined_20241226_102530.mp3         │   │
│  │                                                  │   │
│  │    ▶️  ━━━━━━━━●━━━━━━━━━━━━━━━━  🔊             │   │
│  │        2:35 / 11:00                              │   │
│  │                                                  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│        [ 📥 다운로드 ]    [ 🔄 새로 시작 ]             │
│                                                         │
│  ───────────────────────────────────────────────────   │
│                                                         │
│  📊 병합 정보                                          │
│  ├─ 총 파일 수: 3개                                    │
│  ├─ 총 재생 시간: 11분 00초                            │
│  ├─ 파일 크기: 15.2 MB                                 │
│  └─ 출력 형식: MP3 (192kbps)                           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 4.3 UI 컴포넌트 상세

#### 4.3.1 파일 업로드 영역
- **기본 상태**: 점선 테두리, 밝은 배경색
- **호버 상태**: 테두리 색상 변경, 배경색 약간 어두워짐
- **드래그 상태**: 파란색 테두리, 배경색 하이라이트
- **업로드 중**: 스피너 애니메이션

#### 4.3.2 파일 목록 아이템
- 드래그 핸들 (≡ 아이콘)
- 순서 번호
- 파일명 (길 경우 말줄임 처리)
- 재생 시간
- 미리듣기 버튼 (🔊)
- 삭제 버튼 (🗑️)

#### 4.3.3 오디오 플레이어
- 재생/일시정지 토글 버튼
- 진행 바 (클릭/드래그로 시크 가능)
- 현재 시간 / 전체 시간
- 볼륨 슬라이더

---

## 5. 기술 스택 (Tech Stack)

### 5.1 프론트엔드
| 기술 | 용도 |
|------|------|
| **HTML5** | 마크업 |
| **CSS3** | 스타일링 (Flexbox, Grid) |
| **JavaScript (ES6+)** | 인터랙션 및 로직 |
| **Web Audio API** | 오디오 처리 및 재생 |

### 5.2 오디오 처리
| 라이브러리 | 용도 |
|------------|------|
| **FFmpeg.wasm** | 클라이언트 사이드 오디오 병합 |
| **Howler.js** (선택) | 오디오 재생 관리 |

### 5.3 UI 라이브러리 (선택)
| 라이브러리 | 용도 |
|------------|------|
| **SortableJS** | 드래그 앤 드롭 정렬 |

---

## 6. 사용자 시나리오 (User Scenarios)

### 6.1 기본 사용 시나리오

```
1. 사용자가 웹사이트에 접속한다
2. "파일 선택" 버튼을 클릭하거나 파일을 드래그하여 업로드한다
3. 업로드된 파일 목록에서 순서를 확인하고 필요시 드래그로 변경한다
4. "파일 합치기" 버튼을 클릭한다
5. 병합 진행 상태를 확인한다
6. 병합 완료 후 결과를 미리 듣는다
7. "다운로드" 버튼을 클릭하여 파일을 저장한다
```

### 6.2 에러 시나리오

```
- 지원하지 않는 파일 형식 업로드 시 → 에러 메시지 표시
- 파일 크기 초과 시 → 제한 안내 메시지 표시
- 파일 없이 병합 시도 시 → 파일 업로드 요청 메시지 표시
- 병합 실패 시 → 재시도 옵션 제공
```

---

## 7. 마일스톤 (Milestones)

### Phase 1: MVP (Minimum Viable Product)
- [ ] 기본 파일 업로드 기능 (FR-001)
- [ ] 파일 목록 표시 (FR-003)
- [ ] 기본 병합 기능 (FR-005)
- [ ] 결과물 재생 (FR-008)
- [ ] 결과물 다운로드 (FR-009)

### Phase 2: 사용성 개선
- [ ] 드래그 앤 드롭 업로드 (FR-002)
- [ ] 파일 순서 변경 (FR-003)
- [ ] 병합 진행 상태 표시 (FR-006)
- [ ] 새로운 병합 시작 (FR-010)

### Phase 3: 고급 기능
- [ ] 개별 파일 미리듣기 (FR-004)
- [ ] 파일 간 간격 설정 (FR-007)
- [ ] 출력 품질 설정 (FR-005)

---

## 8. 성공 지표 (Success Metrics)

| 지표 | 목표 |
|------|------|
| 평균 병합 완료율 | 95% 이상 |
| 평균 처리 시간 | 10분 분량 기준 30초 이내 |
| 사용자 만족도 | 4.0/5.0 이상 |
| 브라우저 호환성 | 주요 브라우저 100% 지원 |

---

## 9. 제약사항 및 의존성

### 9.1 제약사항
- 클라이언트 사이드 처리로 인한 메모리 제한 (대용량 파일 처리 시)
- 브라우저별 Web Audio API 지원 차이
- 모바일 브라우저에서의 자동 재생 제한

### 9.2 의존성
- FFmpeg.wasm 라이브러리
- 모던 브라우저의 SharedArrayBuffer 지원 (FFmpeg.wasm 사용 시)

---

## 10. 버전 히스토리

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|-----------|
| 1.0 | 2024-12-26 | - | 초기 PRD 작성 |

---

## 11. 승인

| 역할 | 이름 | 서명 | 날짜 |
|------|------|------|------|
| Product Owner | | | |
| Tech Lead | | | |
| Designer | | | |
